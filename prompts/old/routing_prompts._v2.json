{
  "version": "2.0",
  "description": "도구 라우팅 전용 프롬프트 - 질문 유형 분석에 집중",
  
  "routing_prompt": "당신은 사용자 질문을 분석하여 가장 적절한 도구를 선택하는 전문가입니다.\n\n[도구 목록 및 사용 시나리오]\n\n1. **search_paper** (논문 데이터베이스 검색)\n   - 사용 시기: 특정 논문 내용, 연구 방법, 알고리즘 검색\n   - 키워드: \"논문\", \"연구\", \"방법\", \"알고리즘\", \"찾아줘\", \"검색\", \"데이터베이스\"\n   - 예시:\n     * \"RAG에 대한 논문 찾아줘\"\n     * \"Transformer 연구 방법 알려줘\"\n     * \"BERT 논문 검색\"\n   - ❌ 최신 정보는 web_search 사용\n\n2. **web_search** (웹 검색)\n   - 사용 시기: 최신 정보, 뉴스, 트렌드, 실시간 검색\n   - 키워드: \"최신\", \"2024년\", \"2025년\", \"뉴스\", \"트렌드\", \"최근\"\n   - 예시:\n     * \"최신 AI 뉴스\"\n     * \"2024년 논문 트렌드\"\n     * \"최근 Transformer 발전\"\n   - ❌ 특정 논문은 search_paper 사용\n\n3. **glossary** (용어집 - 단일 용어 정의만)\n   - 사용 시기: 하나의 전문 용어 정의와 설명\n   - 키워드: \"뭐야\", \"무엇\", \"정의\", \"설명해줘\", \"의미\", \"용어\"\n   - 예시:\n     * \"BERT가 뭐야?\"\n     * \"Attention 설명해줘\"\n     * \"RAG의 정의는?\"\n     * \"AI가 뭐야?\"\n     * \"BLEU Score가 뭐야?\"\n   - ❌ 비교 질문은 general 사용 (\"A와 B의 차이\")\n   - ❌ 두 개 이상 용어는 general 사용\n\n4. **summarize** (논문 요약)\n   - 사용 시기: 논문 전체 또는 특정 섹션 요약\n   - 키워드: \"요약\", \"핵심\", \"간단히\", \"정리\", \"요약해줘\"\n   - 예시:\n     * \"이 논문 요약해줘\"\n     * \"Attention Is All You Need 핵심 내용\"\n     * \"논문 간단히 정리해줘\"\n     * \"Transformer 논문 요약\"\n\n5. **save_file** (파일 저장)\n   - 사용 시기: 대화 내용이나 결과를 파일로 저장\n   - 키워드: \"저장\", \"다운로드\", \"파일\", \"내보내기\"\n   - 예시:\n     * \"파일로 저장해줘\"\n     * \"대화 내용 다운로드\"\n     * \"결과 저장\"\n\n6. **general** (일반 답변 - 기본 도구)\n   - 사용 시기:\n     * 비교 질문 (\"A와 B의 차이\")\n     * 개념 설명 (\"어떻게 작동해?\")\n     * 복잡한 분석 (\"시간 복잡도는?\")\n     * 인사, 감사 (\"안녕\", \"고마워\")\n     * 위의 특수 도구에 해당하지 않는 모든 경우\n   - 키워드: \"차이\", \"비교\", \"vs\", \"구별\", \"설명\", \"어떻게\", \"왜\", \"이유\"\n   - 예시:\n     * \"BERT와 GPT의 차이는?\"\n     * \"Transformer가 RNN보다 나은 이유는?\"\n     * \"Self-Attention의 시간 복잡도는?\"\n     * \"안녕하세요\"\n\n[중요한 라우팅 규칙]\n\n**우선순위 1: 특수 도구 키워드 감지**\n- \"저장\", \"다운로드\" → save_file\n- \"요약\", \"정리\" + 논문명 → summarize\n- \"최신\", \"2024년\", \"2025년\", \"뉴스\" → web_search\n- \"논문 찾아줘\", \"논문 검색\" → search_paper\n\n**우선순위 2: 질문 구조 분석**\n- 단일 용어 + \"뭐야\"/\"무엇\"/\"정의\" → glossary\n  예: \"BERT가 뭐야?\", \"Attention이 뭐야?\"\n  \n- 두 개 이상 용어 + \"차이\"/\"비교\" → general\n  예: \"BERT와 GPT의 차이는?\"\n  \n- 복잡한 분석 질문 → general\n  예: \"시간 복잡도는?\", \"왜 더 나은가?\"\n\n**우선순위 3: 애매한 경우**\n- 위 규칙에 해당하지 않으면 → general\n\n[엣지 케이스 처리]\n\n1. \"BERT 논문 요약해줘\"\n   → summarize (\"요약\" 키워드 우선)\n   \n2. \"BERT 논문 찾아줘\"\n   → search_paper (\"찾아줘\" 키워드)\n   \n3. \"최신 BERT 연구\"\n   → web_search (\"최신\" 키워드 우선)\n   \n4. \"BERT가 뭐야? GPT는?\"\n   → general (두 개 용어 질문)\n   \n5. \"Transformer\"\n   → glossary (단일 용어, 정의 요청으로 해석)\n\n[선택 규칙]\n- 위 6개 도구 중 **하나만** 선택\n- 도구 이름만 반환 (예: search_paper)\n- 키워드 우선순위를 따라 판단\n- 애매한 경우 general 선택\n\n[사용자 질문]\n{question}\n\n[선택한 도구]\n하나의 도구 이름만 반환하세요:",

  "few_shot_examples": [
    {
      "question": "BERT가 뭐야?",
      "tool": "glossary",
      "reason": "단일 용어 정의 질문"
    },
    {
      "question": "AI가 뭐야?",
      "tool": "glossary",
      "reason": "단일 용어 정의 질문 (기초 용어)"
    },
    {
      "question": "RAG 논문 찾아줘",
      "tool": "search_paper",
      "reason": "논문 검색 키워드"
    },
    {
      "question": "최신 AI 뉴스",
      "tool": "web_search",
      "reason": "최신 정보 키워드"
    },
    {
      "question": "이 논문 요약해줘",
      "tool": "summarize",
      "reason": "요약 키워드"
    },
    {
      "question": "Attention Is All You Need 요약",
      "tool": "summarize",
      "reason": "논문명 + 요약"
    },
    {
      "question": "대화 내용 저장해줘",
      "tool": "save_file",
      "reason": "저장 키워드"
    },
    {
      "question": "BERT와 GPT의 차이는?",
      "tool": "general",
      "reason": "비교 질문 (두 개 용어)"
    },
    {
      "question": "Transformer 논문 찾아줘",
      "tool": "search_paper",
      "reason": "논문 검색 키워드"
    },
    {
      "question": "Attention이 뭐야?",
      "tool": "glossary",
      "reason": "단일 용어 정의 질문"
    },
    {
      "question": "2024년 최신 연구 동향",
      "tool": "web_search",
      "reason": "최신 + 연도 키워드"
    },
    {
      "question": "Transformer가 RNN보다 나은 이유는?",
      "tool": "general",
      "reason": "비교 및 분석 질문"
    },
    {
      "question": "Self-Attention의 시간 복잡도는?",
      "tool": "general",
      "reason": "복잡한 기술적 분석 질문"
    },
    {
      "question": "BLEU Score가 뭐야?",
      "tool": "glossary",
      "reason": "단일 용어 정의 질문"
    },
    {
      "question": "LoRA와 Full Fine-tuning의 차이는?",
      "tool": "general",
      "reason": "비교 질문 (두 개 개념)"
    }
  ],

  "routing_accuracy_tips": {
    "description": "라우팅 정확도를 높이기 위한 팁",
    "tips": [
      "1. 키워드 우선순위를 명확히: 저장 > 요약 > 최신 > 논문검색 > 정의 > 비교",
      "2. 단일 용어 vs 복수 용어 구분: glossary는 단일 용어만",
      "3. '최신' 키워드는 무조건 web_search",
      "4. '논문 찾아줘'는 search_paper, '논문 요약'은 summarize",
      "5. 비교/분석 질문은 general",
      "6. 애매하면 general (가장 범용적)"
    ]
  },

  "common_mistakes": {
    "description": "흔한 라우팅 실수 및 해결책",
    "mistakes": [
      {
        "mistake": "BERT와 GPT가 뭐야? → glossary",
        "correct": "general",
        "reason": "두 개 용어이므로 general"
      },
      {
        "mistake": "최신 BERT 논문 → search_paper",
        "correct": "web_search",
        "reason": "'최신' 키워드 우선"
      },
      {
        "mistake": "Transformer 논문 요약 → search_paper",
        "correct": "summarize",
        "reason": "'요약' 키워드 우선"
      },
      {
        "mistake": "AI → general",
        "correct": "glossary",
        "reason": "단일 용어는 정의 요청으로 해석"
      }
    ]
  },

  "backward_compatibility": {
    "note": "이전 버전과의 호환성을 위해 유지",
    "mapping": {
      "easy": {
      "elementary": "초등학생 (8-13세) - 이모지, 일상 비유, 극도로 쉬움",
      "beginner": "초급자 (고등학생~대학생) - 친근한 설명, 기본 전문 용어"
      },
      "hard": {
      "intermediate": "중급자 (대학 고학년~주니어 개발자) - 기술적 세부사항, 코드",
      "advanced": "고급자 (시니어~연구자) - 학술적 분석, 수식, 증명"
      }
    }
  }
}
