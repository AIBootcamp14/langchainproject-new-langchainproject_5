##### ì¼ë°˜ ë‹µë³€ ë„êµ¬ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph MainFlow["ğŸ“‹ ì¼ë°˜ ë‹µë³€ ë„êµ¬ ì‹¤í–‰ íë¦„"]
        direction TB

        subgraph Path1["ğŸ”¸ ê²½ë¡œ 1: ì§ì ‘ ì‹¤í–‰"]
            direction LR
            A[ì‚¬ìš©ì<br/>ì¼ë°˜ ì§ˆë¬¸] --> B{íŒ¨í„´ ë§¤ì¹­}
            B -->|ë§¤ì¹­ ì‹¤íŒ¨| C[LLM ë¼ìš°íŒ…]
            B -->|general íŒ¨í„´| D[ì¼ë°˜ ë‹µë³€<br/>ë„êµ¬ ì‹¤í–‰]
            C -->|general ì„ íƒ| D
        end

        subgraph Path2["ğŸ”¹ ê²½ë¡œ 2: Fallback ì‹¤í–‰"]
            direction LR
            E[ë‹¤ë¥¸ ë„êµ¬<br/>ì‹¤í–‰] --> F{ì‹¤í–‰ ì„±ê³µ?}
            F -->|ì‹¤íŒ¨| G[Fallback ì²´ì¸<br/>ì¡°íšŒ]
            G --> H{generalì´<br/>ì²´ì¸ì— ìˆìŒ?}
            H -->|Yes| I[ì¼ë°˜ ë‹µë³€<br/>ë„êµ¬ë¡œ ì „í™˜]
        end

        subgraph Execution["ğŸ”º ë„êµ¬ ì‹¤í–‰"]
            direction LR
            J[ë‚œì´ë„<br/>í™•ì¸] --> K{easy or<br/>hard?}
            K -->|easy| L[elementary +<br/>beginner]
            K -->|hard| M[intermediate +<br/>advanced]
            L --> N[LLM í”„ë¡¬í”„íŠ¸<br/>êµ¬ì„±]
            M --> N
        end

        subgraph LLMCall["ğŸ”¶ LLM í˜¸ì¶œ"]
            direction LR
            O[System í”„ë¡¬í”„íŠ¸<br/>ë¡œë“œ] --> P[User í”„ë¡¬í”„íŠ¸<br/>êµ¬ì„±]
            P --> Q[LLM í˜¸ì¶œ<br/>2íšŒ]
            Q --> R[ë‹µë³€ ìƒì„±<br/>ì™„ë£Œ]
        end

        subgraph Output["âœ… ìµœì¢… ì‘ë‹µ"]
            direction LR
            S[final_answers<br/>ì €ì¥] --> T[final_answer<br/>ì €ì¥]
            T --> U[tool_result<br/>ì €ì¥]
            U --> V[state ë°˜í™˜]
        end

        subgraph Fallback["âš ï¸ Fallback ì²´ì¸"]
            direction LR
            W[glossary â†’ general] --> X[search_paper â†’<br/>web_search â†’ general]
            X --> Y[web_search â†’ general]
            Y --> Z[text2sql â†’ ... â†’ general]
        end

        %% ê²½ë¡œ ì—°ê²°
        Path1 --> Execution
        Path2 --> Execution
        Execution --> LLMCall
        LLMCall --> Output
        Path2 -.ì°¸ì¡°.-> Fallback
    end

    %% ë©”ì¸ ì›Œí¬í”Œë¡œìš° ë°°ê²½
    style MainFlow fill:#fffde7,stroke:#f9a825,stroke-width:4px,color:#000

    %% Subgraph ìŠ¤íƒ€ì¼
    style Path1 fill:#e0f7fa,stroke:#006064,stroke-width:3px,color:#000
    style Path2 fill:#e1f5ff,stroke:#01579b,stroke-width:3px,color:#000
    style Execution fill:#f3e5f5,stroke:#4a148c,stroke-width:3px,color:#000
    style LLMCall fill:#fff3e0,stroke:#e65100,stroke-width:3px,color:#000
    style Output fill:#e8f5e9,stroke:#1b5e20,stroke-width:3px,color:#000
    style Fallback fill:#ffebee,stroke:#c62828,stroke-width:3px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (ê²½ë¡œ 1 - ì²­ë¡ ê³„ì—´)
    style A fill:#4dd0e1,stroke:#006064,stroke-width:2px,color:#000
    style B fill:#ce93d8,stroke:#7b1fa2,stroke-width:2px,color:#000
    style C fill:#4dd0e1,stroke:#006064,stroke-width:2px,color:#000
    style D fill:#4dd0e1,stroke:#006064,stroke-width:2px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (ê²½ë¡œ 2 - íŒŒë‘ ê³„ì—´)
    style E fill:#90caf9,stroke:#1976d2,stroke-width:2px,color:#000
    style F fill:#ce93d8,stroke:#7b1fa2,stroke-width:2px,color:#000
    style G fill:#90caf9,stroke:#1976d2,stroke-width:2px,color:#000
    style H fill:#ce93d8,stroke:#7b1fa2,stroke-width:2px,color:#000
    style I fill:#90caf9,stroke:#1976d2,stroke-width:2px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (ì‹¤í–‰ - ë³´ë¼ ê³„ì—´)
    style J fill:#e1bee7,stroke:#7b1fa2,stroke-width:2px,color:#000
    style K fill:#ce93d8,stroke:#6a1b9a,stroke-width:2px,color:#000
    style L fill:#e1bee7,stroke:#7b1fa2,stroke-width:2px,color:#000
    style M fill:#e1bee7,stroke:#7b1fa2,stroke-width:2px,color:#000
    style N fill:#e1bee7,stroke:#7b1fa2,stroke-width:2px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (LLM í˜¸ì¶œ - ì£¼í™© ê³„ì—´)
    style O fill:#ffb74d,stroke:#e65100,stroke-width:2px,color:#000
    style P fill:#ffb74d,stroke:#e65100,stroke-width:2px,color:#000
    style Q fill:#ffa726,stroke:#ef6c00,stroke-width:2px,color:#000
    style R fill:#ffa726,stroke:#ef6c00,stroke-width:2px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (ìµœì¢… ì‘ë‹µ - ë…¹ìƒ‰ ê³„ì—´)
    style S fill:#81c784,stroke:#2e7d32,stroke-width:2px,color:#000
    style T fill:#81c784,stroke:#2e7d32,stroke-width:2px,color:#000
    style U fill:#81c784,stroke:#2e7d32,stroke-width:2px,color:#000
    style V fill:#66bb6a,stroke:#1b5e20,stroke-width:2px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼ (Fallback - ë¹¨ê°• ê³„ì—´)
    style W fill:#ef9a9a,stroke:#c62828,stroke-width:2px,color:#000
    style X fill:#ef9a9a,stroke:#c62828,stroke-width:2px,color:#000
    style Y fill:#ef9a9a,stroke:#c62828,stroke-width:2px,color:#000
    style Z fill:#ef9a9a,stroke:#c62828,stroke-width:2px,color:#000

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (ê²½ë¡œ 1 - ì²­ë¡ 0~4)
    linkStyle 0 stroke:#006064,stroke-width:2px
    linkStyle 1 stroke:#006064,stroke-width:2px
    linkStyle 2 stroke:#006064,stroke-width:2px
    linkStyle 3 stroke:#006064,stroke-width:2px

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (ê²½ë¡œ 2 - íŒŒë‘ 5~9)
    linkStyle 4 stroke:#1976d2,stroke-width:2px
    linkStyle 5 stroke:#1976d2,stroke-width:2px
    linkStyle 6 stroke:#1976d2,stroke-width:2px
    linkStyle 7 stroke:#1976d2,stroke-width:2px

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (ì‹¤í–‰ - ë³´ë¼ 10~15)
    linkStyle 8 stroke:#7b1fa2,stroke-width:2px
    linkStyle 9 stroke:#7b1fa2,stroke-width:2px
    linkStyle 10 stroke:#7b1fa2,stroke-width:2px
    linkStyle 11 stroke:#7b1fa2,stroke-width:2px
    linkStyle 12 stroke:#7b1fa2,stroke-width:2px

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (LLM í˜¸ì¶œ - ì£¼í™© 16~19)
    linkStyle 13 stroke:#e65100,stroke-width:2px
    linkStyle 14 stroke:#e65100,stroke-width:2px
    linkStyle 15 stroke:#e65100,stroke-width:2px

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (ìµœì¢… ì‘ë‹µ - ë…¹ìƒ‰ 20~23)
    linkStyle 16 stroke:#2e7d32,stroke-width:2px
    linkStyle 17 stroke:#2e7d32,stroke-width:2px
    linkStyle 18 stroke:#2e7d32,stroke-width:2px

    %% ì—°ê²°ì„  ìŠ¤íƒ€ì¼ (Fallback - ë¹¨ê°• 24~26)
    linkStyle 19 stroke:#c62828,stroke-width:2px
    linkStyle 20 stroke:#c62828,stroke-width:2px
    linkStyle 21 stroke:#c62828,stroke-width:2px

    %% ë‹¨ê³„ ê°„ ì—°ê²° (íšŒìƒ‰ 27~31)
    linkStyle 22 stroke:#616161,stroke-width:3px
    linkStyle 23 stroke:#616161,stroke-width:3px
    linkStyle 24 stroke:#616161,stroke-width:3px
    linkStyle 25 stroke:#616161,stroke-width:3px
    linkStyle 26 stroke:#616161,stroke-width:2px,stroke-dasharray:5
```